#!/bin/bash

# Check if a branch name was provided
if [ -z "$1" ]; then
  echo "Usage: $0 <branch-name>"
  exit 1
fi

BRANCH="$1"

# Checkout and update master
git checkout master
git pull

# Fetch the remote branch
git fetch origin "$BRANCH"

# Apply the patch (diff) from the remote branch without committing
BASE=$(git merge-base origin/master origin/"$BRANCH")
git diff "$BASE"..origin/"$BRANCH" | git apply
